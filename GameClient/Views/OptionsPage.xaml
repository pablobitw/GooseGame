<Page x:Class="GameClient.Views.OptionsPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:props="clr-namespace:GameClient.Resources"
      xmlns:components="clr-namespace:GameClient.Views.Components"
      mc:Ignorable="d" 
      d:DesignHeight="1080" d:DesignWidth="1920"
      Title="OptionsPage"
      FontFamily="/Assets/Fonts/#Dosis">

    <Page.Resources>
        <Style x:Key="SectionHeaderStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="24"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="#444"/>
            <Setter Property="Margin" Value="0,20,0,10"/>
        </Style>
    </Page.Resources>

    <Grid>
        <Grid.Background>
            <ImageBrush ImageSource="/Assets/fondo2.png" Stretch="UniformToFill" Opacity="1"/>
        </Grid.Background>

        <Border Style="{StaticResource LobbyContainerBorderStyle}" Width="1000" Height="850" Background="#F0FFFFFF">
            <Grid Margin="60">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <TextBlock Text="{x:Static props:Strings.OptionsPageTitle}" Grid.Row="0" 
                            FontSize="48" FontWeight="Bold" 
                            Foreground="#333" HorizontalAlignment="Center" 
                            Margin="0,0,0,20"/>

                <Separator Grid.Row="0" VerticalAlignment="Bottom" Margin="0,0,0,10"/>

                <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Margin="0,20">
                    <StackPanel>
                        <TextBlock Text="{x:Static props:Strings.SoundHeader}" Style="{StaticResource SectionHeaderStyle}"/>
                        <Grid Margin="0,10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="200"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="50"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="{x:Static props:Strings.MusicLabel}" FontSize="18" VerticalAlignment="Center"/>
                            <Slider x:Name="MusicSlider" Grid.Column="1" Minimum="0" Maximum="100" Value="50" 
                                    VerticalAlignment="Center" IsSnapToTickEnabled="True" TickFrequency="5"/>
                            <TextBlock Text="{Binding ElementName=MusicSlider, Path=Value}" Grid.Column="2" 
                                       FontSize="18" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                        </Grid>

                        <Grid Margin="0,10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="200"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="50"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="{x:Static props:Strings.SfxLabel}" FontSize="18" VerticalAlignment="Center"/>
                            <Slider x:Name="SfxSlider" Grid.Column="1" Minimum="0" Maximum="100" Value="80" 
                                    VerticalAlignment="Center" IsSnapToTickEnabled="True" TickFrequency="5"/>
                            <TextBlock Text="{Binding ElementName=SfxSlider, Path=Value}" Grid.Column="2" 
                                       FontSize="18" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                        </Grid>

                        <Separator Margin="0,20"/>

                        <TextBlock Text="{x:Static props:Strings.VideoHeader}" Style="{StaticResource SectionHeaderStyle}"/>
                        <Grid Margin="0,10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="200"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="{x:Static props:Strings.ScreenModeLabel}" FontSize="18" VerticalAlignment="Center"/>
                            <ComboBox x:Name="ScreenModeComboBox" Grid.Column="1" FontSize="16" Padding="10,5" SelectedIndex="0">
                                <ComboBoxItem Content="{x:Static props:Strings.FullScreenMode}"/>
                                <ComboBoxItem Content="{x:Static props:Strings.BorderlessMode}"/>
                                <ComboBoxItem Content="{x:Static props:Strings.WindowedMode}"/>
                            </ComboBox>
                        </Grid>

                        <Separator Margin="0,20"/>

                        <TextBlock Text="{x:Static props:Strings.LanguageHeader}" Style="{StaticResource SectionHeaderStyle}"/>
                        <Grid Margin="0,10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="200"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="{x:Static props:Strings.GameLanguageLabel}" FontSize="18" VerticalAlignment="Center"/>
                            <ComboBox x:Name="LanguageComboBox" Grid.Column="1" FontSize="16" Padding="10,5" SelectedIndex="0">
                                <ComboBoxItem Content="{x:Static props:Strings.LanguageEs}"/>
                                <ComboBoxItem Content="{x:Static props:Strings.LanguageEn}"/>
                                <ComboBoxItem Content="{x:Static props:Strings.LanguageFr}"/>
                            </ComboBox>
                        </Grid>
                    </StackPanel>
                </ScrollViewer>

                <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,20,0,0">
                    <Button x:Name="BackButton" Content="{x:Static props:Strings.BackButton}" 
                            Style="{StaticResource PrimaryButtonStyle}" 
                            Width="200" Margin="0,0,20,0"
                            Click="BackButton_Click"/>

                    <Button x:Name="SaveButton" Content="{x:Static props:Strings.SaveButton}" 
                            Style="{StaticResource GreenButtonStyle}" 
                            Width="250"
                            Click="SaveButton_Click"/>
                </StackPanel>
            </Grid>
        </Border>

        <Button x:Name="AboutUsButton" 
                HorizontalAlignment="Right" VerticalAlignment="Bottom"
                Margin="40" Width="80" Height="80"
                Background="Transparent" BorderThickness="0" Cursor="Hand"
                ToolTip="Créditos / About Us"
                Click="AboutUsButton_Click">
            <Button.Template>
                <ControlTemplate TargetType="Button">
                    <Grid>
                        <Ellipse x:Name="HoverEffect" Fill="White" Opacity="0" Width="80" Height="80">
                            <Ellipse.Effect>
                                <BlurEffect Radius="20"/>
                            </Ellipse.Effect>
                        </Ellipse>
                        <Image Source="/Assets/Icons/aboutus.png" Stretch="Uniform"/>
                    </Grid>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter TargetName="HoverEffect" Property="Opacity" Value="0.4"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Button.Template>
            <Button.Style>
                <Style TargetType="Button">
                    <Setter Property="RenderTransformOrigin" Value="0.5,0.5"/>
                    <Setter Property="RenderTransform">
                        <Setter.Value>
                            <ScaleTransform ScaleX="1" ScaleY="1"/>
                        </Setter.Value>
                    </Setter>
                    <Style.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter Property="RenderTransform">
                                <Setter.Value>
                                    <ScaleTransform ScaleX="1.1" ScaleY="1.1"/>
                                </Setter.Value>
                            </Setter>
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter Property="RenderTransform">
                                <Setter.Value>
                                    <ScaleTransform ScaleX="0.9" ScaleY="0.9"/>
                                </Setter.Value>
                            </Setter>
                        </Trigger>
                    </Style.Triggers>
                </Style>
            </Button.Style>
        </Button>

        <components:GameAlertBox x:Name="GameAlert" Visibility="Collapsed"/>
    </Grid>
</Page>